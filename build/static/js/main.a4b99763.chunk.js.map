{"version":3,"sources":["services/phonebook.js","components/Form.js","components/Filter.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","phonebookService","getAll","axios","get","then","response","data","addPerson","newPerson","post","deletePerson","person","delete","id","updatePerson","put","Form","newName","handleNameChange","newPhone","handlePhoneChange","submitNewPhone","onSubmit","value","onChange","type","Filter","handleFilterChange","Person","handleDelete","name","number","onClick","Persons","persons","filter","toLowerCase","includes","map","messageStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Notification","message","isError","style","color","App","useState","setPersons","setNewName","setNewPhone","setFilter","notification","setNotification","error","setError","showNotification","setTimeout","showError","status","useEffect","catch","event","target","preventDefault","existingPerson","find","window","confirm","console","log","updatedPerson","concat","_","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a4b99763.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseUrl).then(response => response.data)\n}\n\nconst addPerson = (newPerson) => {\n    return axios.post(baseUrl, newPerson).then(response => response.data)\n}\n\nconst deletePerson = (person) => {\n    return axios.delete(`${baseUrl}/${person.id}`).then(response => response.data)\n}\n\nconst updatePerson = (person) => {\n    return axios.put(`${baseUrl}/${person.id}`, person).then(response => response.data)\n}\n\nconst phonebookService = {\n    getAll,\n    addPerson,\n    deletePerson,\n    updatePerson\n}\n\nexport default phonebookService","import React from \"react\";\n\nconst Form = ({newName, handleNameChange, newPhone, handlePhoneChange, submitNewPhone}) => {\n    return (\n        <form onSubmit={submitNewPhone}>\n            <div>name: <input value={newName} onChange={handleNameChange}/></div>\n            <div>number: <input value={newPhone} onChange={handlePhoneChange}/></div>\n            <div><button type=\"submit\">add</button></div>\n        </form>\n    )\n}\n\nexport default Form","import React from \"react\";\n\nconst Filter = ({handleFilterChange}) => {\n    return (<div>filter on <input onChange={handleFilterChange}/></div>)\n}\n\nexport default Filter","import React from \"react\";\n\nconst Person = ({person, handleDelete}) => {\n    return(\n        <div>{person.name} {person.number} <button onClick={() => handleDelete(person)}>delete</button></div>\n    )\n}\n\nconst Persons = ({persons, filter, handleDelete}) => {\n    return (\n        <div>\n            {\n                persons\n                    .filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n                    .map(\n                        person =>\n                            <Person\n                                key={person.name}\n                                person={person}\n                                handleDelete={handleDelete}/>\n                    )\n            }\n        </div>\n    )\n}\n\nexport default Persons","const messageStyle = {\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n}\n\n\nconst Notification = ({message, isError}) => {\n    if (message == null) return null\n\n    const style = {\n        ...messageStyle,\n        color: isError ? 'red' : 'green'\n    }\n\n    return (\n        <div style={style}>{message}</div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport phonebookService from './services/phonebook'\nimport Form from './components/Form'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n    const [ persons, setPersons ] = useState([])\n    const [ newName, setNewName ] = useState('')\n    const [ newPhone, setNewPhone ] = useState('')\n    const [ filter, setFilter ] = useState('')\n    const [ notification, setNotification ] = useState(null)\n    const [ error, setError ] = useState(null)\n\n    const handleNameChange = (event) => setNewName(event.target.value)\n    const handlePhoneChange = (event) => setNewPhone(event.target.value)\n    const handleFilterChange = (event) => setFilter(event.target.value)\n\n    const showNotification = (message) => {\n        setError(null)\n        setNotification(message)\n        setTimeout(() => setNotification(null), 3000)\n    }\n\n    const showError = (error) => {\n        setNotification(null)\n        if (error.response) {\n            if (error.response.status === 404) {\n                setError(`${newName} not found in the phonebook`)\n                setTimeout(() => setError(null), 3000)\n            } else {\n                setError(error.response.data.error)\n            }\n        }\n    }\n\n    const addPerson = () => {\n        const newPerson = {name: newName, number: newPhone}\n        phonebookService.addPerson(newPerson)\n            .then(newPerson => {\n                setPersons(persons.concat(newPerson))\n                setNewName('')\n                setNewPhone('')\n                showNotification(`Added ${newPerson.name}`)\n            })\n            .catch(error => {\n                showError(error)\n            })\n    }\n\n    const updatePerson = (existingPerson) => {\n        const shouldUpdatePerson = window.confirm(\n            `${existingPerson.name} is already in the phonebook. Replace the old number with a new one?`)\n        if (shouldUpdatePerson) {\n            const newPerson = { ...existingPerson, number: newPhone }\n            console.log(\"updating\", newPerson)\n            phonebookService.updatePerson(newPerson)\n                .then(updatedPerson => {\n                    setPersons(persons.map(person => person.id === updatedPerson.id ? newPerson : person))\n                    setNewName('')\n                    setNewPhone('')\n                    showNotification(`Updated ${newPerson.name}`)\n                })\n                .catch(error => showError(error))\n        }\n    }\n\n    const submitNewName = (event) => {\n        event.preventDefault()\n\n        const existingPerson = persons.find(person => person.name === newName)\n        if (existingPerson) {\n            updatePerson(existingPerson)\n        } else {\n            addPerson()\n        }\n    }\n\n    const deletePerson = (deletePerson) => {\n        const confirmDelete = window.confirm(`Delete ${deletePerson.name}?`)\n        if (confirmDelete) {\n            phonebookService.deletePerson(deletePerson)\n                .then(_ => setPersons(persons.filter(person => person.id !== deletePerson.id)))\n                .catch(error => showError(error))\n        }\n    }\n\n    useEffect(() => {\n        phonebookService.getAll()\n            .then(persons => setPersons(persons))\n            .catch(error => showError(error))\n    }, [])\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={notification} isError={false}/>\n            <Notification message={error} isError={true}/>\n            <Filter handleFilterChange={handleFilterChange}/>\n            <h2>Add New</h2>\n            <Form\n                newName={newName}\n                handleNameChange={handleNameChange}\n                newPhone={newPhone}\n                handlePhoneChange={handlePhoneChange}\n                submitNewPhone={submitNewName}/>\n            <h2>Numbers</h2>\n            <Persons persons={persons} filter={filter} handleDelete={deletePerson}/>\n        </div>\n    )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n)"],"sourceRoot":""}