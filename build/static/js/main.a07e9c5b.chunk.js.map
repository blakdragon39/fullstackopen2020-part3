{"version":3,"sources":["components/Form.js","components/Filter.js","components/Persons.js","services/phonebook.js","App.js","index.js"],"names":["Form","newName","handleNameChange","newPhone","handlePhoneChange","submitNewPhone","onSubmit","value","onChange","type","Filter","handleFilterChange","Person","person","handleDelete","name","number","onClick","Persons","persons","filter","toLowerCase","includes","map","baseUrl","phonebookService","getAll","axios","get","then","response","data","addPerson","newPerson","post","deletePerson","delete","id","updatePerson","put","App","useState","setPersons","setNewName","setNewPhone","setFilter","useEffect","catch","error","alert","event","target","preventDefault","existingPerson","find","window","confirm","updatedPerson","concat","_","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a07e9c5b.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Form = ({newName, handleNameChange, newPhone, handlePhoneChange, submitNewPhone}) => {\r\n    return (\r\n        <form onSubmit={submitNewPhone}>\r\n            <div>name: <input value={newName} onChange={handleNameChange}/></div>\r\n            <div>number: <input value={newPhone} onChange={handlePhoneChange}/></div>\r\n            <div><button type=\"submit\">add</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form","import React from \"react\";\r\n\r\nconst Filter = ({handleFilterChange}) => {\r\n    return (<div>filter on <input onChange={handleFilterChange}/></div>)\r\n}\r\n\r\nexport default Filter","import React from \"react\";\r\n\r\nconst Person = ({person, handleDelete}) => {\r\n    return(\r\n        <div>{person.name} {person.number} <button onClick={() => handleDelete(person)}>delete</button></div>\r\n    )\r\n}\r\n\r\nconst Persons = ({persons, filter, handleDelete}) => {\r\n    return (\r\n        <div>\r\n            {\r\n                persons\r\n                    .filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\r\n                    .map(\r\n                        person =>\r\n                            <Person\r\n                                key={person.name}\r\n                                person={person}\r\n                                handleDelete={handleDelete}/>\r\n                    )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from \"axios\";\r\n\r\nconst baseUrl = 'http://localhost:3001/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl).then(response => response.data)\r\n}\r\n\r\nconst addPerson = (newPerson) => {\r\n    return axios.post(baseUrl, newPerson).then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (person) => {\r\n    return axios.delete(`${baseUrl}/${person.id}`).then(response => response.data)\r\n}\r\n\r\nconst updatePerson = (person) => {\r\n    return axios.put(`${baseUrl}/${person.id}`, person).then(response => response.data)\r\n}\r\n\r\nconst phonebookService = {\r\n    getAll,\r\n    addPerson,\r\n    deletePerson,\r\n    updatePerson\r\n}\r\n\r\nexport default phonebookService","import React, { useState, useEffect } from 'react'\r\nimport Form from './components/Form'\r\nimport Filter from './components/Filter'\r\nimport Persons from './components/Persons'\r\nimport phonebookService from './services/phonebook'\r\n\r\nconst App = () => {\r\n    const [ persons, setPersons ] = useState([])\r\n    const [ newName, setNewName ] = useState('')\r\n    const [ newPhone, setNewPhone ] = useState('')\r\n    const [ filter, setFilter ] = useState('')\r\n\r\n    const handleNameChange = (event) => setNewName(event.target.value)\r\n    const handlePhoneChange = (event) => setNewPhone(event.target.value)\r\n    const handleFilterChange = (event) => setFilter(event.target.value)\r\n\r\n    const addPerson = () => {\r\n        const newPerson = {name: newName, number: newPhone}\r\n        phonebookService.addPerson(newPerson)\r\n            .then(newPerson => {\r\n                setPersons(persons.concat(newPerson))\r\n                setNewName('')\r\n                setNewPhone('')\r\n            })\r\n            .catch(error => alert(error))\r\n    }\r\n\r\n    const updatePerson = (existingPerson) => {\r\n        const shouldUpdatePerson = window.confirm(\r\n            `${existingPerson.name} is already in the phonebook. Replace the old number with a new one?`)\r\n        if (shouldUpdatePerson) {\r\n            const newPerson = { ...existingPerson, number: newPhone }\r\n            phonebookService.updatePerson(newPerson)\r\n                .then(updatedPerson => {\r\n                    setPersons(persons.map(person => person.id === updatedPerson.id ? newPerson : person))\r\n                    setNewName('')\r\n                    setNewPhone('')\r\n                })\r\n                .catch(error => alert(error))\r\n        }\r\n    }\r\n\r\n    const submitNewName = (event) => {\r\n        event.preventDefault()\r\n\r\n        const existingPerson = persons.find(person => person.name === newName)\r\n        if (existingPerson) {\r\n            updatePerson(existingPerson)\r\n        } else {\r\n            addPerson()\r\n        }\r\n    }\r\n\r\n    const deletePerson = (deletePerson) => {\r\n        const confirmDelete = window.confirm(`Delete ${deletePerson.name}?`)\r\n        if (confirmDelete) {\r\n            phonebookService.deletePerson(deletePerson)\r\n                .then(_ => setPersons(persons.filter(person => person.id !== deletePerson.id)))\r\n                .catch(error => alert(error))\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        phonebookService.getAll()\r\n            .then(persons => setPersons(persons))\r\n            .catch(error => alert(error))\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Filter handleFilterChange={handleFilterChange}/>\r\n            <h2>Add New</h2>\r\n            <Form\r\n                newName={newName}\r\n                handleNameChange={handleNameChange}\r\n                newPhone={newPhone}\r\n                handlePhoneChange={handlePhoneChange}\r\n                submitNewPhone={submitNewName}/>\r\n            <h2>Numbers</h2>\r\n            <Persons persons={persons} filter={filter} handleDelete={deletePerson}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n)"],"sourceRoot":""}